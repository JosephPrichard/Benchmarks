# Benchmarks

Benchmark of popular programming languages by solving the [sliding puzzle problem](https://en.wikipedia.org/wiki/15_puzzle) using the AStar algorithm.
Each implementation is guaranteed to find the shortest number of steps to solve any solvable NPuzzle. 

The sliding puzzle problem is a space-exploration problem involving list/array traversal, map/priority queue usage, copying, and lots of memory allocation. This makes it an effective way of benchmarking how efficient a programming language is.

Currently includes implementations for Java, C, C++, C#, Rust, Go, OCaml, Javascript, and Python. Many more to come - implementing a sliding puzzle solver has become my primary way to learn a new language. 

# Usage
Any puzzle solver executable can be invoked with a command line argument. The command line argument is a path to a file containing newline seperated puzzles to solve.
An example of how valid puzzle files look like n=are in the files `8puzzles-*.txt` and `15puzzles-*.txt`. Random puzzle file inputs can be generated in `PuzzleGenerator.java` in the java implementation.

An example 3x3 puzzle input looks like so
```
0 1 2
3 4 5
6 7 8
```

A 4x4 like so
```
0 1 2 3
4 5 6 7
8 9 10 11
12 13 14 15
```

A legal puzzle input must contain a 0 representing the empty space, a space between each column, and a newline between rows. Nonzero tiles can be any integers but the program isn't guaranteed to find the shortest path (or any path) nonconventional puzzles. Generally nonzero tiles for a legal puzzle are numbers `1:(N*N-1)`. `N` being the dimension of the puzzle. An 8puzzle would contain integers `1:8` and a 15puzzle integers `1:15` in any order.

# Usage

Build the programs using the Makefile.

```shell
$ make
```

Run the benchmarks using the `run-bench.sh` script.

```shell
$ ./run-bench.sh 8puzzles-small.txt
```

Additionally, you can generate new puzzle inputs using the `./run-generate.sh` script. This is reccomended over making your inputs by hand.

```shell
$ ./run-graph.sh
```

# Results

The following results are for the `8puzzles-large.txt` file, containing 1000 8puzzles generated by randomly shifting a solved state 100 times.

| Language       | Time (ms) | Nodes  | Extension | Relative to Fastest |
|----------------|-----------|--------|-----------|---------------------|
| C              | 108.508   | 727635 | c         | 1.0x                  |
| C++ Arena      | 119.464   | 722223 | cpp       | 1.1x              |
| C++ shared_ptr | 110.978   | 722223 | cpp       | 1.0x             |
| Rust Arena     | 111.632   | 705454 | rs        | 1.0x            |
| Rust Rc        | 110.185   | 705454 | rs        | 1.0x             |
| C#             | 297.685   | 751669 | cs        | 2.7x              |
| Go             | 229.203   | 737402 | go        | 2.2x            |
| Java           | 343.398   | 745730 | java      | 3.3x             |
| OCaml          | 1788.023  | 963634 | ml        | 16.5x           |
| Node.js        | 824.468   | 727460 | js        | 7.6x            |
| Python         | 10703.946 | 717456 | py        | 98.6x         |


These results are for the `15puzzles-large.txt` file, containing 50 15puzzles generated by randomly shifting a solved state 100 times.

| Language       | Time (ms) | Nodes   | Extension | Relative to Fastest |
|----------------|-----------|---------|-----------|---------------------|
| C              | 5657.660  | 18283069| c         | 1x                  |
| C++ Arena      | 14281.7   | 19189412| cpp       | 2.5x               |
| C++ shared_ptr | 14404.2   | 19189412| cpp       | 2.5x               |
| Rust Arena     | 7159.498  | 15609985| rs        | 1.3x               |
| Rust Rc        | 6919.642  | 15609985| rs        | 1.2x               |
| C#             | 24782.696 | 20029096| cs        | 4.4x               |
| Go             | 12485.754 | 17767899| go        | 2.2x               |
| Java           | 23445.578 | 18769855| java      | 4.1x               |
| OCaml          | 91790.277 | 20769722| ml        | 16.2x              |
| Node.js        | 58319.510 | 17165541| js        | 10.3x              |
| Python         | 444557.116| 14601064| py        | 78.6x              |