# Benchmarks

Benchmark of popular programming languages by solving the [sliding puzzle problem](https://en.wikipedia.org/wiki/15_puzzle) using the AStar algorithm.
Each implementation is guaranteed to find the shortest number of steps to solve any solvable NPuzzle. 

The sliding puzzle problem is a space-exploration problem involving list/array traversal, map/priority queue usage, copying, and lots of memory allocation. This makes it an effective way of benchmarking how efficient a programming language is.

Currently includes implementations for Java, C, C++, C#, Rust, Go, OCaml, Javascript, and Python. Many more to come - implementing a sliding puzzle solver has become my primary way to learn a new language. 

# Usage
Any puzzle solver executable can be invoked with a command line argument. The command line argument is a path to a file containing newline seperated puzzles to solve.
An example of how valid puzzle files look like n=are in the files `8puzzles-*.txt` and `15puzzles-*.txt`. Random puzzle file inputs can be generated in `PuzzleGenerator.java` in the java implementation.

An example 3x3 puzzle input looks like so
```
0 1 2
3 4 5
6 7 8
```

A 4x4 like so
```
0 1 2 3
4 5 6 7
8 9 10 11
12 13 14 15
```

A legal puzzle input must contain a 0 representing the empty space, a space between each column, and a newline between rows. Nonzero tiles can be any integers but the program isn't guaranteed to find the shortest path (or any path) nonconventional puzzles. Generally nonzero tiles for a legal puzzle are numbers `1:(N*N-1)`. `N` being the dimension of the puzzle. An 8puzzle would contain integers `1:8` and a 15puzzle integers `1:15` in any order.

# Usage

Build the programs using the Makefile.

```shell
$ make
```

Run the benchmarks using the `run-bench.sh` script.

```shell
$ ./run-bench.sh 8puzzles-small.txt
```

Additionally, you can generate new puzzle inputs using the `./run-generate.sh` script. This is reccomended over making your inputs by hand.

```shell
$ ./run-graph.sh
```

# Results

The following results are for the `8puzzles-small.txt` file, containing 50 8puzzles generated by randomly shifting a solved state 100 times.

| Language | Time (ms) | Nodes Explored | Extension | Relative to Fastest |
|----------|-----------|----------------|-----------|---------------------|
| C        | 2.509     | 6852           | c         | 1.64x               |
| C++      | 2.003     | 6937           | cpp       | 1.31x               |
| C#       | 7.7337    | 6992           | cs        | 5.06x               |
| Go       | 5.645     | 8347           | go        | 3.69x               |
| Rust     | 1.528     | 7794           | rs        | 1x                  |
| OCaml    | 20.013    | 5401           | ml        | 13.09x              |
| Java     | 12.501    | 7544           | java      | 8.19x               |
| Node.js  | 21.507    | 8309           | js        | 14.06x              |
| Python   | 105.388   | 6969           | py        | 68.92x              |


These results are for the `8puzzles-large.txt` file, containing 1000 8puzzles generated by randomly shifting a solved state 100 times.

| Language | Time (ms) | Nodes | Extension | Relative to Fastest |
|----------|-----------|-------|-----------|---------------------|
| C        | 275.773   | 734823| c         | 2.456x              |
| C++      | 205.744   | 722223| cpp       | 1.835x              |
| C#       | 729.925   | 751669| cs        | 6.513x              |
| Go       | 384.839   | 737402| go        | 3.433x              |
| Rust     | 112.100   | 705454| rs        | 1x                  |
| OCaml    | 1858.471  | 514277| ml        | 16.581x             |
| Java     | 347.382   | 745730| java      | 3.098x              |
| Node.js  | 825.712   | 727460| js        | 7.367x              |
| Python   | 10424.656 | 717456| py        | 93.075x             |